(function(a,b){a.fn.pin=function(e,g){var f={pinPathSuccess:false,pinRestUrl:"https://pin-river-test.data.ea.com/pinEvents",pinRestHeaders:{"x-ea-game-id-type":"client","x-ea-game-id":"server_nucleus","x-ea-taxv":"2.0","x-ea-env":"dev","Access-Control-Allow-Origin":"*"},pinRestMessage:{},pathRestMessage:{},pageViewRestMessage:{},experimentMessage:[]};var d={init:function(){a.extend(f,e);a.fn.pin.helpers=d.helpers;a.fn.pin.settings=f},helpers:{formatUTCDate:function(j,h){if(typeof j=="string"){return j}if(!h){h="yyyy-MM-dd hh:mm:ss"}if(!j||j==null){return null}var l={"M+":j.getUTCMonth()+1,"d+":j.getUTCDate(),"h+":j.getUTCHours(),"m+":j.getUTCMinutes(),"s+":j.getUTCSeconds(),"q+":Math.floor((j.getUTCMonth()+3)/3),S:j.getUTCMilliseconds()};if(/(y+)/.test(h)){h=h.replace(RegExp.$1,(j.getUTCFullYear()+"").substr(4-RegExp.$1.length))}for(var i in l){if(new RegExp("("+i+")").test(h)){h=h.replace(RegExp.$1,(RegExp.$1.length===1)?(l[i]):(("00"+l[i]).substr((""+l[i]).length)))}}return h},getExpMessage:function(){var i=[];for(var h=0;h<f.experimentMessage.length;h++){i.push({source:"eadp_exp_plat",variant_id:f.experimentMessage[h].variantId,exp_id:f.experimentMessage[h].experimentId,player_id:f.experimentMessage[h].playerId})}return i},postAjax:function(h,j,i){a.ajax({async:true,crossDomain:true,url:h,type:"post",data:i,headers:j,processData:false,success:function(k){if(k.status!==b&&k.status.toLowerCase()==="ok"){f.pinPathSuccess=true}}})},postPinMessage:function(h){d.helpers.postAjax(f.pinRestUrl,f.pinRestHeaders,h)},postUIInteractionMessage:function(m,r,p,h,i,s,j,q,o,t,n,l){var u=d.helpers.formatUTCDate(new Date(),"yyyy-MM-ddThh:mm:ss");var k={et:"client_nucleus",plat:j,sid:p,taxv:"2.0",entity_type:"player",rel:o,tid:h,tidt:i,ts_post:u,events:[{core:{en:"ui_interaction",s:r,ts_event:u,v:s,sid:p,gid:"unknown",pid:"unknown",pidt:"unknown",custom:{}},action:n,destination_name:q,mdur:"unknown",pgid:m,sdur:"unknown"}]};if(t){k.events[0].core.custom.click_delay=d.helpers.getClickDelay()}if(typeof l!=="undefined"){a.extend(k.events[0].core.custom,l)}if((!jQuery.isEmptyObject(f.experimentMessage))){k.events.forEach(function(w){w.core.exp_info=d.helpers.getExpMessage()})}var v=JSON.stringify(k);d.helpers.postPinMessage(v)},postPathAndPageViewMessage:function(m,k,p,y,r,w,u,h,q,j,B,t,A,v,l,z,i,s){var x=d.helpers.formatUTCDate(new Date(),"yyyy-MM-ddThh:mm:ss");var n={et:"client_nucleus",plat:B,sid:y,taxv:"2.0",entity_type:"player",rel:z,tid:r,tidt:w,ts_post:x,events:[]};if(i!=="undefined"&&i===true){n.events.push({core:{en:"path",s:p,ts_event:x,v:j,sid:y,gid:"unknown",pid:"unknown",pidt:"unknown",custom:{errorCode:l===b||l===null?"":l}},name:"pageviewevent",cur_step:m,prev_step:k,object_id:m,visit_id:y,source:"nucleus",game_type:"online",status:"viewed",category:u,type:h})}if(s!=="undefined"&&s===true){n.events.push({core:{en:"page_view",s:p,ts_event:x,v:j,sid:y,gid:"unknown",pid:"unknown",pidt:"unknown"},game_type:"online",category:u,fromid:k,ldur:t,locale:v,pgdur:A,pgid:m,type:q})}if((!jQuery.isEmptyObject(f.experimentMessage))){n.events.forEach(function(C){C.core.exp_info=d.helpers.getExpMessage()})}var o=JSON.stringify(n);d.helpers.postPinMessage(o)},postPathAndPageViewMessageFromSetting:function(n,h,r,s,v){var p=f.pinRestMessage.sessionId;var k=f.pinRestMessage.titleId;var m=f.pinRestMessage.titleIdType;var j=f.pinRestMessage.category;var q=f.pinRestMessage.version;var l=f.pinRestMessage.platform;var o=f.pinRestMessage.environment;var i=f.pathRestMessage.type;var u=f.pathRestMessage.errorCode;var w=f.pageViewRestMessage.type;var t=f.pageViewRestMessage.locale;d.helpers.postPathAndPageViewMessage(n,h,r,p,k,m,j,i,w,q,l,s,v,t,u,o,true,true)},postPathAndPageViewMessageOnLoad:function(){var n=f.pinRestMessage.curStep;var h=f.pinRestMessage.prevStep;var r=f.pinRestMessage.stepNum;var p=f.pinRestMessage.sessionId;var j=f.pinRestMessage.titleId;var m=f.pinRestMessage.titleIdType;var k=f.pinRestMessage.category;var s=f.pinRestMessage.version;var l=f.pinRestMessage.platform;var o=f.pinRestMessage.environment;var i=f.pathRestMessage.type;var v=f.pathRestMessage.errorCode;var w=f.pageViewRestMessage.type;var u=f.pageViewRestMessage.locale;var t=f.pageViewRestMessage.prevPageDuration;var q=d.helpers.getPageLoadDuration();d.helpers.postPathAndPageViewMessage(n,h,r,p,j,m,k,i,w,s,l,q,t,u,v,o,true,true)},getPageLoadDuration:function(){var i=f.pageViewRestMessage.viewRenderedTimeStamp;var h=f.pageViewRestMessage.DOMLoadedTimeStamp;return((h-i)/1000).toString()},getPageLoadDurationInMs:function(){var i=f.pageViewRestMessage.viewRenderedTimeStamp;var h=f.pageViewRestMessage.DOMLoadedTimeStamp;return(h-i).toString()},getClickDelay:function(){var h=f.pageViewRestMessage.DOMLoadedTimeStamp;return((Date.now()-h)/1000).toString()},postUIInteractionMessageOnClick:function(o,k,r,l){r=typeof(r)!=="undefined"?r:true;l=(typeof l!=="undefined")?l:{};k=(typeof k!=="undefined")?k:f.pinRestMessage.curStep;var q=f.pinRestMessage.stepNum;var n=f.pinRestMessage.sessionId;var h=f.pinRestMessage.titleId;var j=f.pinRestMessage.titleIdType;var p=f.pinRestMessage.version;var i=f.pinRestMessage.platform;var m=f.pinRestMessage.environment;d.helpers.postUIInteractionMessage(k,q,n,h,j,p,i,o,m,r,"click",l)},postUIInteractionMessageOnShow:function(o,k,r,l){r=typeof(r)!=="undefined"?r:true;l=(typeof l!=="undefined")?l:{};k=(typeof k!=="undefined")?k:f.pinRestMessage.curStep;var q=f.pinRestMessage.stepNum;var n=f.pinRestMessage.sessionId;var h=f.pinRestMessage.titleId;var j=f.pinRestMessage.titleIdType;var p=f.pinRestMessage.version;var i=f.pinRestMessage.platform;var m=f.pinRestMessage.environment;d.helpers.postUIInteractionMessage(k,q,n,h,j,p,i,o,m,r,"show",l)},postPathMessageFromSetting:function(n,h,q){var p=f.pinRestMessage.sessionId;var j=f.pinRestMessage.titleId;var m=f.pinRestMessage.titleIdType;var k=f.pinRestMessage.category;var r=f.pinRestMessage.version;var l=f.pinRestMessage.platform;var o=f.pinRestMessage.environment;var i=f.pathRestMessage.type;var s=f.pathRestMessage.errorCode;d.helpers.postPathAndPageViewMessage(n,h,q,p,j,m,k,i,"",r,l,"","","",s,o,true,false)},postPathMessageOnLoad:function(){var n=f.pinRestMessage.curStep;var h=f.pinRestMessage.prevStep;var q=f.pinRestMessage.stepNum;var p=f.pinRestMessage.sessionId;var j=f.pinRestMessage.titleId;var m=f.pinRestMessage.titleIdType;var k=f.pinRestMessage.category;var r=f.pinRestMessage.version;var l=f.pinRestMessage.platform;var o=f.pinRestMessage.environment;var i=f.pathRestMessage.type;var s=f.pathRestMessage.errorCode;d.helpers.postPathAndPageViewMessage(n,h,q,p,j,m,k,i,"",r,l,"","","",s,o,true,false)},postResetPasswordPathMessage:function(n,h,q,p){var j="eadp_identity";var m="service";var k="userResetPassword";var r=f.pinRestMessage.version;var l=f.pinRestMessage.platform;var o=f.pinRestMessage.environment;var i=f.pathRestMessage.type;var s=f.pathRestMessage.errorCode;d.helpers.postPathAndPageViewMessage(n,h,q,p,j,m,k,i,"",r,l,"","","",s,o,true,false)}}};const c=["init"];if(typeof e==="object"||!e){d.init()}else{if(a.inArray(e,c)){}}}})(jQuery);