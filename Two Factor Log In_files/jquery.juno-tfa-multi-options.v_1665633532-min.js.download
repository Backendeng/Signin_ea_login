(function(a,b){a.fn.tfa=function(e,g){var f={};var d={init:function(){a.extend(f,e);a("#twoFactorCode").focus();var h=a("#junoBannerBox");h.css("display","none");a("#online-general-error").css("display","none");a("#online-general-info").hide();a("#verificationGate .otkinput-grouped i").css("font-size","30px");a("#loginForm #tfa-login #verificationGate .otkinput-grouped").addClass("otkinput-grouped_radius");if(d.helpers.isWrongCode()){sendGAJunoEvent("TwoFactor_MultiOptions","Invalid code");h.removeClass("otknotice-passive").hide();a("#online-general-info").removeClass("otknotice-passive");a("#online-general-info").hide();a("#online-general-error").show()}if(h.find("strong").text().length>0){sendGAJunoEvent("TwoFactor_MultiOptions","Resend code fail");a("#online-general-info").removeClass("otknotice-passive");a("#online-general-info").hide();h.addClass("otknotice-passive").show()}if(a("#online-general-info").find("strong").text().length>0){sendGAJunoEvent("TwoFactor_MultiOptions","Resend code success");a("#junoBannerBox").removeClass("otknotice-passive");a("#junoBannerBox").hide();a("#online-general-info").show();a("#online-general-info").addClass("otknotice-passive")}a("#loginForm #tfa-login #verificationGate #btnSendCode").bind("click",d.events.sendSecurityCode);a("#loginForm #tfa-login #verificationGate #backToLoginBtn").bind("click",d.events.back);a("#loginForm #tfa-login #verificationGate #btnSubmit").bind("click",d.events.verifyCode);a("#loginForm #tfa-login #verificationGate #resend").bind("click",d.events.resendTFACode);a("input[type=radio]:first").attr("checked",true);a("#tooltip svg").hover(function(){a(this).siblings(".otktooltip-bottom").addClass("otktooltip-isvisible")},function(){a(this).siblings(".otktooltip-bottom").removeClass("otktooltip-isvisible")})},events:{sendSecurityCode:function(h){sendGAJunoEvent("TwoFactor_MultiOptions","Send tfa code");if(a("#EMAIL").parent().hasClass("checked")){sendGAJunoEvent("MFA","Send code via email")}else{if(a("#SECOND_EMAIL").parent().hasClass("checked")){sendGAJunoEvent("MFA","Send mfa via second email")}else{if(a("#SMS").parent().hasClass("checked")){sendGAJunoEvent("MFA","Send mfa via sms")}else{if(a("#VOICE").parent().hasClass("checked")){sendGAJunoEvent("MFA","Send mfa via voice")}else{if(a("#APP").parent().hasClass("checked")){sendGAJunoEvent("MFA","Send mfa via APP")}else{sendGAJunoEvent("MFA","Send code via email")}}}}}h.preventDefault();a("#_eventId").val("submit");a("#loginForm").submit()},verifyCode:function(j){j.preventDefault();var i=true;var h=a("#loginForm #tfa-login #verificationGate #twoFactorCode").val();i=d.helpers.validateCode(h);if(i){a("#loginForm").submit()}else{a("#twoFactorCode").val("");return false}},back:function(h){sendGAJunoEvent("TwoFactor_MultiOptions","Cancel tfa verify");h.preventDefault();a("#twoFactorCode").val("");a("#_eventId").val("back");a("#loginForm").submit()},resendTFACode:function(h){sendGAJunoEvent("TwoFactor_MultiOptions","Resend tfa code");h.preventDefault();a("#twoFactorCode").val("");a("#_eventId").val("mfa_resend");a("#loginForm").submit()}},helpers:{validateCode:function(h){var i=a.trim(h);if(i==""||!i.match(/^[\d]{6}$|^[\d]{8}$/)){sendGAJunoEvent("TwoFactor_MultiOptions","Invalid code");a("#junoBannerBox").hide();a("#online-general-info").hide();a("#online-general-error .otkc").text(a("#form-error-authorization-failure").text());a("#online-general-error").show();return false}else{return true}},isWrongCode:function(){var h=a.trim(a("#loginForm #tfa-login #verificationGate #twoFactorCode").val());if(h!=""){return true}return false}}};var c=["init"];if(typeof e==="object"||!e){d.init()}else{if(a.inArray(e,c)){}}}})(jQuery);$(document).ready(function(){});